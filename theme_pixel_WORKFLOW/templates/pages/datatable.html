{% extends 'pages/dashboard.html' %}
{% block content %}

    <table  class="table table-striped table-bordered table-hover table-sm  table-light ">
        <thead  class="thead-dark">
            <tr>
                {% for header in headers %}
                    <th>{{ header }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
                <tr>
                    {% for cell in row %}
                        <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    
    </table>
   
    <button onclick="redirectToImage()" class="btn btn-outline-secondary">Generate Image</button>

    <script>
    function redirectToImage() {
      var currentUrl = window.location.href+"/datatable/";
      var idRegex = /\/(\d+)\//; // Assumes that the ID is the last number in the URL path
      var idMatch = currentUrl.match(idRegex);
    
      if (idMatch) {
        var id = idMatch[1];
        var imageUrl = "/excel-to-image/" + id + "/";
        window.location.href = imageUrl;
      } else {
        alert("ID not found in URL");
      }
    }
    </script>
    

    
    {% endblock %}